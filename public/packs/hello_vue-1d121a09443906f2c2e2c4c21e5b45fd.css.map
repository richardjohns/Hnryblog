{"version":3,"file":"hello_vue-1d121a09443906f2c2e2c4c21e5b45fd.css","sources":["webpack:///./app/javascript/app/javascript/app.vue"],"sourcesContent":["<template>\n  <draggable v-model=\"lists\" :options=\"{group: 'lists'}\" class=\"board dragArea\" @end=\"listMoved\">\n    <list v-for=\"(list, index) in lists\" :list=\"list\"></list>\n\n    <div class=\"list\">\n      <a v-if=\"!editing\" v-on:click=\"startEditing\">Add a List</a>\n      <textarea v-if=\"editing\" ref=\"message\" v-model=\"message\" class=\"form-control mb-1\"></textarea>\n      <button v-if=\"editing\" v-on:click=\"submitMessage\" class=\"btn btn-secondary\">Add</button>\n      <a v-if=\"editing\" v-on:click=\"editing=false\">Cancel</a>\n    </div>\n  </draggable>\n</template>\n\n<script>\nimport draggable from 'vuedraggable'\nimport list from 'components/list'\nexport default {\n  components: { draggable, list },\n  props: [\"original_lists\"],\n  data: function() {\n    return {\n      lists: this.original_lists,\n      editing: false,\n      message: \"\",\n    }\n  },\n  methods: {\n    startEditing: function() {\n      this.editing = true\n      this.$nextTick(() => { this.$refs.message.focus() })\n    },\n    listMoved: function(event) {\n      var data = new FormData\n      data.append(\"list[position]\", event.newIndex + 1)\n      Rails.ajax({\n        url: `/lists/${this.lists[event.newIndex].id}/move`,\n        type: \"PATCH\",\n        data: data,\n        dataType: \"json\",\n      })\n    },\n    submitMessage: function() {\n      var data = new FormData\n      data.append(\"list[name]\", this.message)\n      Rails.ajax({\n        url: \"/lists\",\n        type: \"POST\",\n        data: data,\n        dataType: \"json\",\n        success: (data) => {\n          window.store.lists.push(data)\n          this.message = \"\"\n          this.editing = false\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.dragArea {\n  min-height: 10px;\n}\n.board {\n  overflow-x: auto;\n  white-space: nowrap;\n}\n.list {\n  background: #E2E4E6;\n  border-radius: 3px;\n  display: inline-block;\n  margin-right: 20px;\n  padding: 10px;\n  vertical-align: top;\n  width: 270px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/app/javascript/app.vue?fe858a12"],"mappings":";AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;","sourceRoot":""}