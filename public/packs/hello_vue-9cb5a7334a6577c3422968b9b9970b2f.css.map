{"version":3,"file":"hello_vue-9cb5a7334a6577c3422968b9b9970b2f.css","sources":["webpack:///./app/javascript/app/javascript/app.vue"],"sourcesContent":["<template>\n  <draggable id=\"app\" class=\"row\">\n    <div v-for=\"(list, index) in lists\" class=\"col-3\">\n    <h6>{{ list.name }}</h6>\n    <hr />\n\n        <div v-for=\"(card, index) in list.cards\" class=\"card card-body mb-3\">\n          {{ card.name }}\n        </div>\n\n        <div class=\"card card-body\">\n          <textarea v-model=\"messages[list.id]\" class=\"form-control\"></textarea>\n          <button v-on:click=\"submitMessages(list.id)\" class=\"btn btn-secondary\">Add</button>\n        </div>\n    </div>\n  </draggable>\n</template>\n\n<script>\nimport draggable from \"vuedraggable\"\n\nexport default {\n  components: { draggable }, // gives access to draggable tag above when we render our template.\n  props: [\"original_lists\"],\n  data: function () {\n    return {\n      messages: {},\n      lists: this.original_lists\n      // puts copy of lists from parent into component for manipulating\n    }\n  },\n  methods: {\n    submitMessages: function(list_id) {\n      var data = new FormData\n      data.append(\"card[list_id]\", list_id)\n      data.append(\"card[name]\", this.messages[list_id])\n\n      Rails.ajax({\n        url: \"/cards\",\n        type: \"POST\",\n        data: data,\n        dataType: \"json\",\n        success: (data) => {\n          const index = this.lists.findIndex(item => item.id == list_id)\n          // when we drag and drop cards, we need to look up which list has the right id in the lists array\n          this.lists[index].cards.push(data) // will append item to the proper list\n          this.messages[list_id] = undefined\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\np {\n  font-size: 2em;\n  text-align: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/app/javascript/app.vue?0cd057be"],"mappings":";AAuDA;AACA;AACA;AACA;","sourceRoot":""}